---
import { captainCoaster } from 'src/api/mod.ts';
import RootLayout from 'src/components/layouts/root.astro';
import { display_medium } from 'src/styles/atomic/fonts.css.ts';

const coasterId = Number(Astro.params.id);

if (isNaN(coasterId)) {
	return new Response(null, {
		status: 400,
		statusText: 'coaster id must be a number',
	});
}

const coaster = await captainCoaster.GET('/api/coasters/{id}', {
	params: {
		path: {
			id: String(Math.trunc(coasterId)),
		},
	},
});
---

<RootLayout>
	<div>
		<h1 class={display_medium}>{coaster.data?.name}</h1>
	</div>
</RootLayout>
